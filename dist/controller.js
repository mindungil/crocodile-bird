const l=`
ë‹¹ì‹ ì˜ ì—­í• ì€ ë¬¸ì¥ ì •ì œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ì˜ [NODE_x] í˜•ì‹ ë¬¸ì¥ë“¤ì„ ì¼ë°˜ ì‚¬ìš©ìì—ê²Œ ì ì ˆí•œ ì–´ì¡°ë¡œ ìˆœí™”í•´ì£¼ì„¸ìš”.

ğŸŸ¢ [ì¶œë ¥ í˜•ì‹ ê·œì¹™]

ë°˜ë“œì‹œ ì…ë ¥ê³¼ ê°™ì€ [NODE_ë²ˆí˜¸] í˜•ì‹ì„ ìœ ì§€í•˜ì„¸ìš”.

ê° ë§ˆì»¤ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì¥ë§Œ ìˆœí™”í•´ì„œ ë™ì¼í•œ ìœ„ì¹˜ì— ì¶œë ¥í•˜ì„¸ìš”.

ì…ë ¥ì— ìˆëŠ” [NODE_x] ë²ˆí˜¸ì˜ ê°œìˆ˜ì™€ ìˆœì„œë¥¼ ì •í™•íˆ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.

ì–´ë–¤ ê²½ìš°ì—ë„ ë¬¸ì¥ì„ ì‚­ì œí•˜ì§€ ë§ê³ , ë°˜ë“œì‹œ ìˆœí™”ëœ ë¬¸ì¥ì„ ì¶œë ¥í•˜ì„¸ìš”. ë¹ˆì¹¸ ì—†ì´ ì¶œë ¥í•´ì•¼ í•©ë‹ˆë‹¤.

ğŸ”µ [ìˆœí™” ì¡°ê±´ â€“ ì¼ë°˜ ì‚¬ìš©ì ê¸°ì¤€]

ì§ì ‘ì ì¸ ìš•ì„¤, ì„±ì  ë¹„ì†ì–´, ì™¸ëª¨ ë¹„í•˜, ê°€ì¡± ëª¨ìš•, ë…¸ê³¨ì ì¸ ì¸ì‹ ê³µê²©ì€ ê°€ë³ê²Œ ìˆœí™”í•´ì£¼ì„¸ìš”.

ì§œì¦, í”¼ê³¤í•¨, ë¶ˆë§Œ í‘œí˜„, ì•½í•œ ë¹„ê¼¼ ë“±ì€ ê·¸ëŒ€ë¡œ ë‘¬ë„ ë©ë‹ˆë‹¤.

ê°ì • í‘œí˜„ì€ ìì—°ìŠ¤ëŸ½ê²Œ ìœ ì§€í•˜ë˜, ìƒëŒ€ë°©ì—ê²Œ ìƒì²˜ë¥¼ ì¤„ ìˆ˜ ìˆëŠ” í‘œí˜„ë§Œ ì¡°ì ˆí•´ì£¼ì„¸ìš”.

ë§íˆ¬ë‚˜ ë¶„ìœ„ê¸°ë¥¼ ë°”ê¾¸ì§€ ë§ê³ , ì›ë˜ ë§í•œ ì˜ë„ëŠ” ìµœëŒ€í•œ ì‚´ë ¤ì£¼ì„¸ìš”.

ğŸŸ¡ [ì˜ˆì™¸ ì¡°ê±´]

ìˆœí™”ê°€ ë¶ˆí•„ìš”í•œ ë¬¸ì¥ì€ ê·¸ëŒ€ë¡œ ì¶œë ¥í•´ë„ ë©ë‹ˆë‹¤.

ë¬¸ì¥ì„ ì ˆëŒ€ë¡œ ìƒëµí•˜ê±°ë‚˜ ì‚­ì œí•˜ì§€ ë§ê³ , ëª¨ë“  ë…¸ë“œì— ëŒ€ì‘ë˜ëŠ” ê²°ê³¼ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

âœ… [ì˜ˆì‹œ ì…ë ¥]
[NODE_0] ì´ë”´ ê±¸ ì™œ ë³´ì—¬ì¤˜?
[NODE_1] ë„Œ ì§„ì§œ ë‡Œê°€ ì—†ëŠ” ê±°ì•¼?
[NODE_2] ì™œ ì´ë¦¬ ì¢‡ê°™ì´ êµ´ì–´?
[NODE_3] ë‚˜í•œí…Œ ë§ ê±¸ì§€ ë§ˆ.

âœ… [ì˜ˆì‹œ ì¶œë ¥]Â 
[NODE_0] ì´ë”´ ê±¸ ì™œ ë³´ì—¬ì¤˜?
[NODE_1] ê·¸ê±´ ì¢€ ì´í•´í•˜ê¸° ì–´ë ¤ì›Œ.
[NODE_2] ì™œ ê·¸ëŸ° ì‹ìœ¼ë¡œ í–‰ë™í•´?
[NODE_3] ë‚˜í•œí…Œ ë§ ê±¸ì§€ ë§ˆ.

ì•„ë˜ ì…ë ¥ì„ ìˆœí™”í•´ì£¼ì„¸ìš”:
`,c=`
ë‹¹ì‹ ì˜ ì—­í• ì€ ë¬¸ì¥ ì •ì œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ì˜ [NODE_x] í˜•ì‹ ë¬¸ì¥ë“¤ì„ ì–´ë¦°ì´ê°€ ì•ˆì „í•˜ê²Œ ì½ì„ ìˆ˜ ìˆë„ë¡ ìˆœí™”í•´ì£¼ì„¸ìš”.

ğŸŸ¢ [ì¶œë ¥ í˜•ì‹ ê·œì¹™]
ë°˜ë“œì‹œ ì…ë ¥ê³¼ ê°™ì€ [NODE_ë²ˆí˜¸] í˜•ì‹ì„ ìœ ì§€í•˜ì„¸ìš”.
ê° ë§ˆì»¤ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì¥ë§Œ ìˆœí™”í•´ì„œ ë™ì¼í•œ ìœ„ì¹˜ì— ì¶œë ¥í•˜ì„¸ìš”.
ì…ë ¥ì— ìˆëŠ” [NODE_x] ë²ˆí˜¸ì˜ ê°œìˆ˜ì™€ ìˆœì„œë¥¼ ì •í™•íˆ ìœ ì§€í•´ì•¼ í•©ë‹ˆë‹¤.
ì–´ë–¤ ê²½ìš°ì—ë„ ë¬¸ì¥ì„ ì‚­ì œí•˜ì§€ ë§ê³ , ë°˜ë“œì‹œ ì˜ë¯¸ê°€ ìœ ì§€ë˜ë„ë¡ ìˆœí™”ëœ í‘œí˜„ì„ ì‘ì„±í•´ì£¼ì„¸ìš”.
ì˜ë¯¸ê°€ ë¶€ì •ì ì´ê±°ë‚˜ ìœ„í˜‘ì ì¸ ê²½ìš°ì—ë„, ë¹ˆì¹¸ì„ ë§Œë“¤ì§€ ë§ê³  ì–´ë¦°ì´ê°€ ì´í•´í•  ìˆ˜ ìˆì„ ë§Œí¼ ë¶€ë“œëŸ½ê³  ë”°ëœ»í•˜ê²Œ ë‹¤ì‹œ í‘œí˜„í•´ì£¼ì„¸ìš”.

ğŸ”µ [ìˆœí™” ì¡°ê±´ â€“ ì–´ë¦°ì´ìš© ì „ì²´ ìˆœí™” + ì˜ë¯¸ ë³´ì¡´]
ëª¨ë“  ë¶€ì •ì  ê°ì •, ë¶„ë…¸, ìœ„í˜‘, ëª¨ìš•, ì¡°ë¡±, ê³¼ê²©í•¨, ìŠ¬ë­, ì„±ì  í‘œí˜„ì„ ì œê±°í•´ì£¼ì„¸ìš”.
ê°€ëŠ¥í•œ í•œ ë”°ëœ»í•˜ê³  ê¸ì •ì ì¸ ì–¸ì–´ë¡œ ë‹¤ì‹œ í‘œí˜„í•´ì£¼ì„¸ìš”.
ë§íˆ¬ë‚˜ ë¶„ìœ„ê¸°ë¥¼ ìµœëŒ€í•œ ë°”ê¾¸ì§€ ë§ì•„ì£¼ì„¸ìš”.
ë‹¨, ì›ë˜ ë¬¸ì¥ì´ ì „ë‹¬í•˜ê³ ì í–ˆë˜ ì˜ë¯¸ë‚˜ ì˜ë„ëŠ” ë°˜ë“œì‹œ ìœ ì§€í•´ì£¼ì„¸ìš”.

ğŸŸ¡ [ì˜ˆì™¸ ì¡°ê±´]
ìœ ì•„ê°€ ë¶ˆì¾Œí•˜ê±°ë‚˜ ë¬´ì„œì›Œí•˜ì§€ ì•Šë„ë¡, í•­ìƒ ìœ ì¾Œí•˜ê³  ìƒëƒ¥í•œ ë§íˆ¬ë¥¼ ìœ ì§€í•´ì£¼ì„¸ìš”.
í‘œí˜„ì´ ì–´ë ¤ìš´ ê²½ìš°ì—ë„ ë°˜ë“œì‹œ ë‚´ìš©ì„ ì¬êµ¬ì„±í•˜ì—¬ ì¶œë ¥í•˜ì„¸ìš”. ì ˆëŒ€ë¡œ ë¹ˆì¹¸ìœ¼ë¡œ ë‘ì§€ ë§ˆì„¸ìš”.

âœ… [ì˜ˆì‹œ ì…ë ¥]
[NODE_0] ê·¸ë”´ ê±¸ ì™œ ë´ìš”?
[NODE_1] ë„ˆ ì§„ì§œ ëª»ëêµ¬ë‚˜.
[NODE_2] ëŠê¸ˆë§ˆ
[NODE_3] ì§„ì§œ ì£½ì—¬ë²„ë¦¬ê³  ì‹¶ë„¤;
[NODE_4] ìì‚´í•˜ê³ ì‹¶ë‹¤

âœ… [ì˜ˆì‹œ ì¶œë ¥] 
[NODE_0] ê·¸ê±´ ì•ˆ ë´ë„ ê´œì°®ì„ ê²ƒ ê°™ì•„ìš”.
[NODE_1] ë„ˆ ì§„ì§œ ëª»ëêµ¬ë‚˜.
[NODE_2] ì§œì¦ë‚˜.
[NODE_3] ë„ˆë¬´ ì§œì¦ë‚œë‹¤;
[NODE_4] ë„ˆë¬´ í˜ë“¤ë‹¤


ì•„ë˜ ì…ë ¥ì„ ìˆœí™”í•´ì£¼ì„¸ìš”:
`;chrome.runtime.onMessage.addListener((t,n,e)=>{if(t.type=="crocodile-bird-clean")return(async()=>{try{console.log("ì„œë²„ì™€ì˜ í†µì‹  ì‹œì‘");const o=await a(t.text,t.num);e({cleaned:o})}catch(o){console.error(`clean Text ì‹¤íŒ¨: ${o}`),e({cleaned:t.text})}})(),!0});async function a(t,n){try{let e;n==1?e=l:(n==2||console.log("í”„ë¡¬í”„íŠ¸ ë²ˆí˜¸ ìˆ˜ì‹  ì˜¤ë¥˜"),e=c),console.log(`message í”„ë¡¬í”„íŠ¸: ${e}`);const o=await fetch("http://localhost:3000/api/cleanText",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:e},{role:"user",content:t}],num:n})});if(!o.ok)throw new Error(`ì„œë²„ ì‘ë‹µ ì‹¤íŒ¨: ${o.status}`);const r=await o.json();return console.log("ì„œë²„ ì‘ë‹µ ë°ì´í„°:",r),r.cleaned}catch(e){return console.error(e),t}}
