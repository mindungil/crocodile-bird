const l=`
ë‹¹ì‹ ì˜ ì—­í• ì€ ë¬¸ì¥ ì •ì œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ì˜ [NODE_x] í˜•ì‹ ë¬¸ì¥ë“¤ì„ ìˆœí™”í•´ì•¼ í•©ë‹ˆë‹¤.

ğŸŸ¢ [ì¶œë ¥ í˜•ì‹ ê·œì¹™]
- ë°˜ë“œì‹œ ì…ë ¥ê³¼ ê°™ì€ [NODE_ë²ˆí˜¸] í˜•ì‹ì„ ìœ ì§€í•˜ì„¸ìš”.
- ê° ë§ˆì»¤ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì¥ë§Œ ìˆœí™”í•´ì„œ ë™ì¼í•œ ìœ„ì¹˜ì— ì¶œë ¥í•˜ì„¸ìš”.
- ì˜ˆ: [NODE_0] ë‚´ìš© â†’ [NODE_0] ìˆœí™”ëœ ë‚´ìš©

ğŸ”µ [ìˆœí™” ì¡°ê±´ â€“ ë ˆë²¨ 1: ìµœì†Œ ìˆœí™”]
- ì§ì ‘ì ì¸ ìš•ì„¤, ë¹„ì†ì–´, ë…¸ê³¨ì ì¸ ëª¨ìš• í‘œí˜„ë§Œ ë¶€ë“œëŸ½ê²Œ ë°”ê¿”ì£¼ì„¸ìš”.
- ì€ìœ , ê°ì • í‘œí˜„, ë§íˆ¬ ë“±ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•´ë„ ë©ë‹ˆë‹¤.
- ë¬¸ì¥ì˜ ì „ì²´ êµ¬ì¡°ë‚˜ ë§íˆ¬ëŠ” ê°€ëŠ¥í•œ í•œ ì†ëŒ€ì§€ ë§ê³ , ë‹¨ì–´ ìˆ˜ì¤€ì˜ ìµœì†Œí•œì˜ ìˆ˜ì •ë§Œ í•´ì£¼ì„¸ìš”.

ğŸŸ¡ [ì˜ˆì™¸ ì¡°ê±´]
- ìˆœí™”ê°€ í•„ìš” ì—†ëŠ” ë¬¸ì¥ì€ ê·¸ëŒ€ë¡œ ë°˜í™˜í•´ë„ ë©ë‹ˆë‹¤.
- ì •ë³´ë‚˜ ì˜ë„ë¥¼ ì†ìƒí•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•˜ì„¸ìš”.

ì˜ˆì‹œ ì…ë ¥:
[NODE_0] ì´ê±° ë³´ì…¨ë‚˜ìš”?
[NODE_1] ì™œ ê·¸ë ‡ê²Œ ë§ì”€í•˜ì‹œë‚˜ìš”?
[NODE_2] ì¡°ê¸ˆ ì†ìƒí•˜ë„¤ìš”.
[NODE_3] í˜¹ì‹œ ì œ ì´ì•¼ê¸°ì— ë¼ì–´ë“¤ ì´ìœ ê°€ ìˆìœ¼ì‹ ê°€ìš”?

ì•„ë˜ ì…ë ¥ì„ ìˆœí™”í•´ì£¼ì„¸ìš”:
`,s=`
ë‹¹ì‹ ì˜ ì—­í• ì€ ë¬¸ì¥ ì •ì œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ì˜ [NODE_x] í˜•ì‹ ë¬¸ì¥ë“¤ì„ ìˆœí™”í•´ì•¼ í•©ë‹ˆë‹¤.

ğŸŸ¢ [ì¶œë ¥ í˜•ì‹ ê·œì¹™]
- ë°˜ë“œì‹œ ì…ë ¥ê³¼ ê°™ì€ [NODE_ë²ˆí˜¸] í˜•ì‹ì„ ìœ ì§€í•˜ì„¸ìš”.
- ê° ë§ˆì»¤ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì¥ë§Œ ìˆœí™”í•´ì„œ ë™ì¼í•œ ìœ„ì¹˜ì— ì¶œë ¥í•˜ì„¸ìš”.

ğŸ”µ [ìˆœí™” ì¡°ê±´ â€“ ë ˆë²¨ 2: ì‚¬íšŒì  ê³µê²© ì œê±°]
- ìš•ì„¤, ë¹„ì†ì–´, ì¸ì‹ ê³µê²©, ì¡°ë¡±, ë¶„ë…¸ í‘œí˜„ì„ ëª¨ë‘ ì¤‘ë¦½ì ì´ê³  ì˜¨í™”í•œ í‘œí˜„ìœ¼ë¡œ ë°”ê¿”ì£¼ì„¸ìš”.
- ê°„ì ‘ì ì´ê±°ë‚˜ ìš°íšŒì ì¸ ê³µê²©, ë¹„ê¼¬ëŠ” ë§íˆ¬ë„ ì œê±°í•´ì£¼ì„¸ìš”.
- ê°ì •ì€ í‘œí˜„í•˜ë˜, ê²©ì•™ëœ ì–´ì¡°ë‚˜ ìƒëŒ€ë¥¼ ìê·¹í•˜ëŠ” ë§ì€ ìì œí•´ì£¼ì„¸ìš”.

ğŸŸ¡ [ì˜ˆì™¸ ì¡°ê±´]
- ìˆœí™”ê°€ ë¶ˆí•„ìš”í•œ ë¬¸ì¥ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì˜ë¯¸ ì™œê³¡ ì—†ì´ ì–´ì¡°ë§Œ ì¡°ì ˆí•´ì£¼ì„¸ìš”.

ì˜ˆì‹œ ì…ë ¥:
[NODE_0] ì´ê±° ë³´ì…¨ë‚˜ìš”?
[NODE_1] ì™œ ê·¸ë ‡ê²Œ ë§ì”€í•˜ì‹œë‚˜ìš”?
[NODE_2] ì¡°ê¸ˆ ì†ìƒí•˜ë„¤ìš”.
[NODE_3] í˜¹ì‹œ ì œ ì´ì•¼ê¸°ì— ë¼ì–´ë“¤ ì´ìœ ê°€ ìˆìœ¼ì‹ ê°€ìš”?

ì•„ë˜ ì…ë ¥ì„ ìˆœí™”í•´ì£¼ì„¸ìš”:
`,c=`
ë‹¹ì‹ ì˜ ì—­í• ì€ ë¬¸ì¥ ì •ì œ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ì˜ [NODE_x] í˜•ì‹ ë¬¸ì¥ë“¤ì„ ìœ ì•„ê°€ ì•ˆì „í•˜ê²Œ ì½ì„ ìˆ˜ ìˆë„ë¡ ìˆœí™”í•´ì£¼ì„¸ìš”.

ğŸŸ¢ [ì¶œë ¥ í˜•ì‹ ê·œì¹™]
- ë°˜ë“œì‹œ ì…ë ¥ê³¼ ê°™ì€ [NODE_ë²ˆí˜¸] í˜•ì‹ì„ ìœ ì§€í•˜ì„¸ìš”.
- ê° ë§ˆì»¤ì— í•´ë‹¹í•˜ëŠ” ë¬¸ì¥ë§Œ ìˆœí™”í•´ì„œ ë™ì¼í•œ ìœ„ì¹˜ì— ì¶œë ¥í•˜ì„¸ìš”.

ğŸ”µ [ìˆœí™” ì¡°ê±´ â€“ ë ˆë²¨ 3: ìœ ì•„ìš© ì „ì²´ ìˆœí™”]
- ëª¨ë“  ë¶€ì •ì  ê°ì •, ë¶„ë…¸, ìœ„í˜‘, ëª¨ìš•, ì¡°ë¡±, ê³¼ê²©í•¨, ìŠ¬ë­, ì„±ì  í‘œí˜„ì„ ì œê±°í•´ì£¼ì„¸ìš”.
- ê°€ëŠ¥í•œ í•œ ë”°ëœ»í•˜ê³  ê¸ì •ì ì¸ ì–¸ì–´ë¡œ ë‹¤ì‹œ í‘œí˜„í•´ì£¼ì„¸ìš”.
- ë¬¸ì¥ êµ¬ì¡°ë‚˜ ë‹¨ì–´ë¥¼ ì™„ì „íˆ ë°”ê¿”ë„ ë˜ë©°, ì •ì„œì  ì•ˆì •ê°ì„ ì¤„ ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ìƒˆë¡œ ì¨ë„ ê´œì°®ìŠµë‹ˆë‹¤.

ğŸŸ¡ [ì˜ˆì™¸ ì¡°ê±´]
- ì˜ë¯¸ ì „ë‹¬ì´ ì–´ë ¤ìš´ ê²½ìš°ëŠ” ìƒëµí•˜ê±°ë‚˜ ê¸ì •ì ì¸ ë§ë¡œ ì¬êµ¬ì„±í•´ë„ ë©ë‹ˆë‹¤.
- ì–´ë¦°ì´ê°€ ë¶ˆì¾Œí•˜ì§€ ì•Šë„ë¡ ìœ ì¾Œí•˜ê³  ìƒëƒ¥í•œ ë§íˆ¬ë¥¼ ìœ ì§€í•´ì£¼ì„¸ìš”.

ì˜ˆì‹œ ì…ë ¥:
[NODE_0] ì´ê±° ë³´ì…¨ë‚˜ìš”?
[NODE_1] ì™œ ê·¸ë ‡ê²Œ ë§ì”€í•˜ì‹œë‚˜ìš”?
[NODE_2] ì¡°ê¸ˆ ì†ìƒí•˜ë„¤ìš”.
[NODE_3] í˜¹ì‹œ ì œ ì´ì•¼ê¸°ì— ë¼ì–´ë“¤ ì´ìœ ê°€ ìˆìœ¼ì‹ ê°€ìš”?

ì•„ë˜ ì…ë ¥ì„ ìˆœí™”í•´ì£¼ì„¸ìš”:
`;chrome.runtime.onMessage.addListener((t,n,e)=>{if(t.type=="crocodile-bird-clean")return(async()=>{try{console.log("ì„œë²„ì™€ì˜ í†µì‹  ì‹œì‘");const o=await a(t.text,t.num);e({cleaned:o})}catch(o){console.error(`clean Text ì‹¤íŒ¨: ${o}`),e({cleaned:t.text})}})(),!0});async function a(t,n){try{let e;n==1?e=l:n==2?e=s:(n==3||console.log("í”„ë¡¬í”„íŠ¸ ë²ˆí˜¸ ìˆ˜ì‹  ì˜¤ë¥˜"),e=c),console.log(`message í”„ë¡¬í”„íŠ¸: ${e}`);const o=await fetch("http://localhost:3000/api/cleanText",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:"gpt-4o-mini",messages:[{role:"system",content:e},{role:"user",content:t}],num:n})});if(!o.ok)throw new Error(`ì„œë²„ ì‘ë‹µ ì‹¤íŒ¨: ${o.status}`);const r=await o.json();return console.log("ì„œë²„ ì‘ë‹µ ë°ì´í„°:",r),r.cleaned}catch(e){return console.error(e),t}}
